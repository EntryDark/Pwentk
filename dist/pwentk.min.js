module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r={genErr:function(e,t){t?console.warn(new Error(`"${t.name}" 스프라이트에서 에러 #${e} : "${r.errorCode[e]}"`)):console.warn(new Error(`에러 #${e} : "${r.errorCode[e]}"`))},errorCode:{10:"잘못된 참조",11:"중복된 스프라이트 이름",12:"존재하지 않는 스프라이트 번호",13:"존재하지 않는 스프라이트 이름",14:"존재하지 않는 모양 번호",15:"존재하지 않는 모양 이름",20:"잘못된 입력 형식",21:"잘못된 입력 형식 (Number여야 함)",22:"스프라이트 이름이 입력되지 않음",23:"잘못된 입력 형식 (String여야 함)"},event:{newSprite:[],changed:[],sceneChanged:[]},on:function(e,t){this.event[e].push(t)},fire:function(e,t){for(var n in console.log(`"${e}" event fired`),this.event[e])this.event[e][n](t)},getSprite:function(e,t,n="name"){switch(t.constructor.name){case"Number":{let n=e.sprites[t];if(n)return n;r.genErr(12);break}case"String":{let s=e.sprites.filter(e=>e[n]==t)[0];if(s)return s;r.genErr(13);break}}},nArray:e=>e||[],genId:()=>Math.random().toString(36).substr(2,5)},s=r;s.Project=class{constructor(e){this.name=e.name,this.scenes=[new s.Scene({name:"장면 1"})],this.nowSceneNo=0,s.fire("sceneChanged",this)}setNowScene(e){this.nowSceneNo=e,s.fire("sceneChanged",this)}nowScene(){return this.scenes[this.nowSceneNo]}newScene(e){this.scenes.push(new s.Scene({name:e}))}deleteScene(e){this.scenes.splice(e,1),this.nowSceneNo>this.scenes.length-1?this.setNowScene(this.scenes.length-1):this.nowSceneNo>e&&this.setNowScene(this.nowSceneNo-1)}},s.Scene=class{constructor(e){this.name=e.name,this.sprites=[]}newSprite(e){e.setScene(this),this.sprites.push(e),s.fire("newSprite",e)}},s.BlockSet=class{constructor(e){this.name=e.name,this.template=e.template,this.func=e.func,this.param=s.nArray(this.template.match(/(?<=\(\()(.*?)(?=\)\))/g)).map(e=>({name:e,type:"string",data:"0"})).concat(s.nArray(this.template.match(/(?<=\<\<)(.*?)(?=\>\>)/g)).map(e=>({name:e,type:"boolean",data:!0}))).concat(s.nArray(this.template.match(/(?<=\{\{)(.*?)(?=\}\})/g)).map(e=>({name:e,type:"function",data:function(){}})))}},s.Block=class{constructor(e){this.name=e.name,this.template=e.template,this.param=e.param,this.innerBlock=this.param.filter(e=>"function"==e.type)}getPath(e){var t="";if(t+="M0 0 l 5 5 v -4 \n\t\ta 1 1 90 0 1 1 -1  \n\t\th 70\n\t\ta 5 5 180 0 1 0 10 ",t+="H 11 ",this.innerBlock.length>0){t+="a 1 1 90 0 0 -1 1\n\t\t\tv 4\n\t\t\tl -5 -5";for(var n=0;n<this.innerBlock.length-1;n++)t+="v 10 \n\t\t\t\tl 5 5 v -4 \n\t\t\t\ta 1 1 90 0 1 1 -1  \n\t\t\t\th 20 \n\t\t\t\ta 5 5 180 0 1 0 10 \n\t\t\t\tH 11 \n\t\t\t\ta 1 1 90 0 0 -1 1 \n\t\t\t\tv 4 \n\t\t\t\tl -5 -5 ";t+="v 10 \n\t\t\tl 5 5 v -4 \n\t\t\ta 1 1 90 0 1 1 -1  \n\t\t\th 20 \n\t\t\ta 5 5 180 0 1 0 10 "}return t+="H 6 a 1 1 90 0 0 -1 1 v 5 l -5 -5\n\t\tZ"}},s.Sprite=class{constructor(e,t,n,r,s,i,a,h,o,c){this.setName(e,!1),this.setVisible(t||!0,!1),this.shapes=n||[{name:"Sample image",img:this.genImg("https://playentry.org/lib/entry-js/images/media/entrybot1.png")}],this.setShape(r||0,!1),this.setScaleX(s||1,!1),this.setScaleY(i||1,!1),this.setX(a||0,!1),this.setY(h||0,!1),this.setZ(o||0,!1),this.setRotation(c||0,!1)}setScene(e){this.scene=e}setName(e,t=!0){return e?this.name=String(e):(this.setName(`스프라이트 ${s.genId()}`,t),s.genErr(22,this)),t&&s.fire("changed",this),this}show(e=!0){return this.visible=!0,e&&s.fire("changed",this),this}hide(e=!0){return this.visible=!1,e&&s.fire("changed",this),this}setVisible(e,t=!0){return this.visible=Boolean(e),t&&s.fire("changed",this),this}setShape(e,t=!0){return isNaN(e)||(this.shapes[Number(e)]?this.shapeNumber=Number(e):s.genErr(14,this)),t&&s.fire("changed",this),this}getShape(){return this.shapes[this.shapeNumber]}setScaleX(e,t=!0){return isNaN(e)?s.genErr(21,this):this.scaleX=Number(e),t&&s.fire("changed",this),this}setScaleY(e,t=!0){return isNaN(e)?s.genErr(21,this):this.scaleY=Number(e),t&&s.fire("changed",this),this}setX(e,t=!0){return isNaN(e)?s.genErr(21,this):this.x=Number(e),t&&s.fire("changed",this),this}setY(e,t=!0){return isNaN(e)?s.genErr(21,this):this.y=Number(e),t&&s.fire("changed",this),this}setZ(e,t=!0){return isNaN(e)?s.genErr(21,this):this.z=Number(e),t&&s.fire("changed",this),this}setRotation(e,t=!0){return isNaN(e)?s.genErr(21,this):this.rotation=Number(e),t&&s.fire("changed",this),this}addX(e,t=!0){return isNaN(e)?s.genErr(21,this):this.x+=Number(e),t&&s.fire("changed",this),this}addY(e,t=!0){return isNaN(e)?s.genErr(21,this):this.y+=Number(e),t&&s.fire("changed",this),this}addZ(e,t=!0){return isNaN(e)?s.genErr(21,this):this.z+=Number(e),t&&s.fire("changed",this),this}addRotation(e,t=!0){return isNaN(e)?s.genErr(21,this):this.rotation+=Number(e),t&&s.fire("changed",this),this}genImg(e){let t=new Image;return t.src=e,t}};t.default=s}]);const __export__=module.exports;module.exports=__export__.default,Object.assign(module.exports,__export__);